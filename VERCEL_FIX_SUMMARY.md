# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –¥–µ–ø–ª–æ—è –Ω–∞ Vercel

## ‚ùå –ò—Å—Ö–æ–¥–Ω–∞—è –æ—à–∏–±–∫–∞

```
npm error No workspaces found:
npm error   --workspace=client
Error: Command "npm run build --workspace=client" exited with 1
```

## üîç –ü—Ä–∏—á–∏–Ω–∞

Vercel **–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç npm workspaces** –≤ buildCommand –∏ installCommand. –ö–æ–º–∞–Ω–¥—ã –≤–∏–¥–∞ `npm run build --workspace=client` —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ, –≥–¥–µ –µ—Å—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π `package.json` —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ workspaces.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `vercel.json`

**–ë—ã–ª–æ:**
```json
{
  "buildCommand": "npm run build:client && npm run build:api",
  "installCommand": "npm install",
  ...
}
```

**–°—Ç–∞–ª–æ:**
```json
{
  "buildCommand": "cd client && npm run build && cd ../api && npm run build",
  "installCommand": "npm install --prefix client && npm install --prefix api",
  ...
}
```

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

1. **installCommand** - —Ç–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–∞–∂–¥—É—é –ø–∞–ø–∫—É:
   - `npm install --prefix client` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–ª–∏–µ–Ω—Ç–∞
   - `npm install --prefix api` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π API

2. **buildCommand** - —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –∫–∞–∂–¥—É—é –ø–∞–ø–∫—É –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é —Å–±–æ—Ä–∫—É:
   - `cd client && npm run build` - —Å–±–æ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞
   - `cd ../api && npm run build` - —Å–±–æ—Ä–∫–∞ API

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ API

–ü–∞–ø–∫–∞ API –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –¥–µ–ø–ª–æ—é:

```
api/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ passport.ts          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Passport
‚îÇ   ‚îî‚îÄ‚îÄ passport.js          # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.ts              # –ú–∞—Ä—à—Ä—É—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ auth.js              # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ encryption.ts        # –°–µ—Ä–≤–∏—Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ encryption.js        # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
‚îú‚îÄ‚îÄ index.ts                 # –ì–ª–∞–≤–Ω–∞—è serverless —Ñ—É–Ω–∫—Ü–∏—è
‚îú‚îÄ‚îÄ index.js                 # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è (entry point –¥–ª—è Vercel)
‚îú‚îÄ‚îÄ types.ts                 # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ types.js                 # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
‚îú‚îÄ‚îÄ package.json             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ API
‚îî‚îÄ‚îÄ tsconfig.json            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏:

- ‚úÖ –í—Å–µ `.ts` —Ñ–∞–π–ª—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤ `.js`
- ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `.js` (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ ESM)
- ‚úÖ `package.json` —Å–æ–¥–µ—Ä–∂–∏—Ç `"type": "module"`
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ `index.js` —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç default serverless —Ñ—É–Ω–∫—Ü–∏—é
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞ –æ—Ç `server/` –ø–∞–ø–∫–∏

## üöÄ –ö–∞–∫ —Ç–µ–ø–µ—Ä—å –¥–µ–ø–ª–æ–∏—Ç—å

### 1. –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ (–∫–∞–∫ –Ω–∞ Vercel)
cd client && npm install && npm run build && \
cd ../api && npm install && npm run build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
ls -la client/dist/index.html  # –ö–ª–∏–µ–Ω—Ç —Å–æ–±—Ä–∞–Ω
ls -la api/index.js            # API —Å–æ–±—Ä–∞–Ω
```

### 2. –î–µ–ø–ª–æ–π –Ω–∞ Vercel

```bash
# –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π
vercel

# –ü—Ä–æ–¥–∞–∫—à–Ω –¥–µ–ø–ª–æ–π
vercel --prod
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í Vercel Dashboard –¥–æ–±–∞–≤—å—Ç–µ:

| Variable | Value |
|----------|-------|
| `SESSION_SECRET` | –°–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `openssl rand -base64 32`) |
| `GOOGLE_CLIENT_ID` | –í–∞—à Google Client ID |
| `GOOGLE_CLIENT_SECRET` | –í–∞—à Google Client Secret |
| `CLIENT_URL` | `https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app` |
| `SERVER_URL` | `https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app` |
| `NODE_ENV` | `production` |

### 4. –û–±–Ω–æ–≤–∏—Ç–µ Google OAuth redirect URI

```
https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/auth/google/callback
```

## üîÑ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ workspaces –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ä–∞–±–æ—Ç–∞—é—Ç:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç workspaces)
npm install

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç workspaces)
npm run dev

# –°–±–æ—Ä–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç workspaces)
npm run build
```

**Workspaces –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ!** –ù–∞ Vercel –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–ø—Ä—è–º—É—é —Å –ø–∞–ø–∫–∞–º–∏.

## üìã –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `vercel.json` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã buildCommand –∏ installCommand
- ‚úÖ `.gitignore` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JS —Ñ–∞–π–ª—ã API
- ‚úÖ `.vercelignore` - –∏—Å–∫–ª—é—á–µ–Ω—ã –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã
- ‚úÖ `api/package.json` - –¥–æ–±–∞–≤–ª–µ–Ω build —Å–∫—Ä–∏–ø—Ç
- ‚úÖ `api/tsconfig.json` - –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏—è
- ‚úÖ `api/index.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `api/config/passport.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Passport
- ‚úÖ `api/routes/auth.ts` - –º–∞—Ä—à—Ä—É—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ `api/services/encryption.ts` - —Å–µ—Ä–≤–∏—Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ `api/types.ts` - TypeScript —Ç–∏–ø—ã
- ‚úÖ `DEPLOY_QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–µ–ø–ª–æ—è
- ‚úÖ `VERCEL_DEPLOY.md` - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ `CHANGELOG_VERCEL_FIX.md` - –¥–µ—Ç–∞–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –§–∞–π–ª `api/index.js` —Å–æ–∑–¥–∞–Ω (–∑–∞–ø—É—Å—Ç–∏—Ç–µ `cd api && npm run build`)
- [ ] –§–∞–π–ª `client/dist/index.html` —Å–æ–∑–¥–∞–Ω (–∑–∞–ø—É—Å—Ç–∏—Ç–µ `cd client && npm run build`)
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ Vercel
- [ ] Google OAuth redirect URI –æ–±–Ω–æ–≤–ª–µ–Ω
- [ ] –ö–æ–¥ –∑–∞–∫–æ–º–º–∏—á–µ–Ω –≤ git

## üéØ –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–ö–ª–∏–µ–Ω—Ç**: `https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/`
2. **API Health**: `https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/health`
3. **Auth Status**: `https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/auth/status`
4. **Google OAuth**: –ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" —Ä–∞–±–æ—Ç–∞–µ—Ç

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[DEPLOY_QUICK_START.md](./DEPLOY_QUICK_START.md)** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- **[VERCEL_DEPLOY.md](./VERCEL_DEPLOY.md)** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- **[GOOGLE_OAUTH_SETUP.md](./GOOGLE_OAUTH_SETUP.md)** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Vercel –±–µ–∑ –æ—à–∏–±–æ–∫ workspaces!

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –¥–µ–ø–ª–æ—è:**
```bash
vercel --prod
```

**Happy Deploying! üöÄ**

